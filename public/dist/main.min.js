function add(){$("#userModal").modal("show")}function del(){}function getCom(){}function init(){}var app=angular.module("msgBoard",[]);app.controller("ctrl",["$scope","$http","$timeout",function(t,e,n){t.alert="none",t.showAlert=!0,t.comment={name:"",email:"",title:"",comment:""},t.comments=[{name:"yzx",email:"123@123.cn",title:"say",comment:"say something ..."},{name:"yzx",email:"123@123.cn",title:"say",comment:"say something ..."},{name:"yzx",email:"123@123.cn",title:"say",comment:"say something ..."}],t.hasThisPerson=function(e){var n=null==t.comments.length?0:t.comments.length;try{for(var o=0;o<n;o++){var m=t.comments[o];return m.name==e}}catch(a){return!1}},t.save=function(){var o=t.comment.name,m="/comment?name="+o;t.hasThisPerson(o)?e({method:"put",url:m,data:t.comment}).success(function(e){t.comments=e.data,t.alert=e.code,t.showAlert=!0,n(function(){t.showAlert=!1},3e3),console.log(e)}).error(function(e){t.alert=e,t.showAlert=!0,n(function(){t.showAlert=!1},3e3)}):(console.log("post_send_start"),e({method:"post",url:"/comment",data:t.comment,headers:{"content-type":"text/plain; charset=utf-8",mimeType:"text/plain; charset=utf-8"}}).success(function(e){t.comments=e.data,t.alert=e.code,t.showAlert=!0,n(function(){t.showAlert=!1},3e3),console.log(e)}).error(function(e){t.alert=e,t.showAlert=!0,n(function(){t.showAlert=!1},3e3)})),$("#userModal").modal("hide")}}]);